{"openapi":"3.0.3","info":{"title":"FlowLedger API","version":"0.1.0","description":"API for managing clients, audits, industries, and related business processes"},"tags":[{"name":"Clients","description":"Client management operations"},{"name":"ClientContacts","description":"Client contact management"},{"name":"ClientTags","description":"Client tag management"},{"name":"ContactSocialProfiles","description":"Social media profile management for contacts"},{"name":"ClientNotes","description":"Client note management"},{"name":"Industries","description":"Industry management and client-industry relationships"},{"name":"TaskPacks","description":"Task pack and task management"},{"name":"Audits","description":"Audit management operations"},{"name":"AI","description":"AI-powered features and tools"}],"components":{"schemas":{"ErrorEnvelope":{"type":"object","properties":{"error":{"type":"object","properties":{"code":{"type":"string"},"message":{"type":"string"}},"required":["code","message"]}},"required":["error"]},"PageMeta":{"type":"object","properties":{"page":{"type":"integer","minimum":1},"limit":{"type":"integer","minimum":1},"total":{"type":"integer","minimum":0}},"required":["page","limit"]}}},"paths":{"/api/ai/chat":{"post":{"summary":"Chat completion","tags":["AI"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["messages"],"properties":{"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","enum":["system","user","assistant"]},"content":{"type":"string"}}}},"model":{"type":"string"},"temperature":{"type":"number"}}}}}},"responses":{"200":{"description":"Assistant reply"}}}},"/api/ai/chat-stream":{"post":{"summary":"Chat completion (SSE stream)","tags":["AI"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["messages"],"properties":{"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","enum":["system","user","assistant"]},"content":{"type":"string"}}}},"model":{"type":"string"},"temperature":{"type":"number"}}}}}},"responses":{"200":{"description":"Server-sent events stream"}}}},"/api/ai/assist":{"post":{"summary":"Tool-enabled assistant that can fetch server data","tags":["AI"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["messages"],"properties":{"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","enum":["system","user","assistant"]},"content":{"type":"string"}}}},"model":{"type":"string"},"temperature":{"type":"number"}}}}}},"responses":{"200":{"description":"Assistant reply with tool trace"}}}},"/api/ai/tag-suggest":{"post":{"summary":"Suggest tags for a note (reuse existing, propose few new)","tags":["AI"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","note"],"properties":{"client_id":{"type":"integer"},"note":{"type":"string"},"maxExisting":{"type":"integer","description":"Max existing tags to suggest"},"maxNew":{"type":"integer","description":"Max new tags to propose"}}}}}},"responses":{"200":{"description":"Tag suggestions","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"existing":{"type":"array","items":{"type":"object","properties":{"tag_id":{"type":"integer"},"tag_name":{"type":"string"},"reason":{"type":"string"}}}},"new":{"type":"array","items":{"type":"object","properties":{"tag_name":{"type":"string"},"reason":{"type":"string"}}}},"rationale":{"type":"string"}}}}}}}}}}},"/api/ai/name-suggest":{"post":{"summary":"Suggest names for an engagement","tags":["AI"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["current_name"],"properties":{"client_id":{"type":"integer"},"current_name":{"type":"string"},"context":{"type":"string"},"maxSuggestions":{"type":"integer"}}}}}},"responses":{"200":{"description":"Name suggestions","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"reason":{"type":"string"}}}}}}}}}}}},"/api/audit-sipoc":{"get":{"summary":"List SIPOC docs","tags":["SIPOC"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer"}},{"in":"query","name":"limit","schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/SipocDoc"}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}}},"/api/audit-sipoc/{audit_id}":{"get":{"summary":"Get SIPOC by audit_id","tags":["SIPOC"],"parameters":[{"in":"path","name":"audit_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/SipocDoc"}}}}}}}},"put":{"summary":"Upsert SIPOC by audit_id","tags":["SIPOC"],"parameters":[{"in":"path","name":"audit_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SipocDoc"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/SipocDoc"}}}}}}}}},"/api/audits":{"get":{"summary":"List audits","tags":["Audits"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Audits list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"audit_id":{"type":"integer"},"engagement_id":{"type":"integer"},"client_id":{"type":"integer"},"title":{"type":"string"},"scope":{"type":"string","nullable":true},"status":{"type":"string"},"state":{"type":"string"},"percent_complete":{"type":"number"},"created_utc":{"type":"string","format":"date-time"},"updated_utc":{"type":"string","format":"date-time"}}}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}}},"/api/client-contacts":{"get":{"summary":"List client contacts","tags":["ClientContacts"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Contacts list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"contact_id":{"type":"integer"},"client_id":{"type":"integer"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"title":{"type":"string"},"is_primary":{"type":"boolean"},"is_active":{"type":"boolean"}}}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}},"post":{"summary":"Create client contact","tags":["ClientContacts"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id"],"properties":{"client_id":{"type":"integer"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"title":{"type":"string"},"is_primary":{"type":"boolean"},"is_active":{"type":"boolean"}}}}}},"responses":{"201":{"description":"Contact created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"contact_id":{"type":"integer"},"client_id":{"type":"integer"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"title":{"type":"string"}}}}}}}}}}},"/api/client-contacts/{id}":{"get":{"summary":"Get client contact by id","tags":["ClientContacts"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Contact","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"contact_id":{"type":"integer"},"client_id":{"type":"integer"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"title":{"type":"string"}}}}}}}}}},"put":{"summary":"Update client contact","tags":["ClientContacts"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"title":{"type":"string"},"is_primary":{"type":"boolean"},"is_active":{"type":"boolean"}}}}}},"responses":{"200":{"description":"Contact updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"contact_id":{"type":"integer"},"client_id":{"type":"integer"},"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}}}}}}}}},"delete":{"summary":"Delete client contact","tags":["ClientContacts"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-documents":{"get":{"summary":"List client documents","tags":["ClientDocuments"],"responses":{"200":{"description":"Documents list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"doc_id":{"type":"integer"},"client_id":{"type":"integer"},"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client document","tags":["ClientDocuments"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","doc_code"],"properties":{"client_id":{"type":"integer"},"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}}}},"responses":{"201":{"description":"Document created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"doc_id":{"type":"integer"},"client_id":{"type":"integer"},"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}}}}}}}}},"/api/client-documents/{id}":{"get":{"summary":"Get client document by id","tags":["ClientDocuments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Document","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"doc_id":{"type":"integer"},"client_id":{"type":"integer"},"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}}}}}}}},"put":{"summary":"Update client document","tags":["ClientDocuments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}}}},"responses":{"200":{"description":"Document updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"doc_id":{"type":"integer"},"client_id":{"type":"integer"},"doc_code":{"type":"string"},"title":{"type":"string"},"status":{"type":"string"}}}}}}}}}},"delete":{"summary":"Delete client document","tags":["ClientDocuments"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-engagements":{"get":{"summary":"List client engagements","tags":["ClientEngagements"],"responses":{"200":{"description":"Engagements list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"engagement_id":{"type":"integer"},"client_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client engagement","tags":["ClientEngagements"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","title"],"properties":{"client_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}}}},"responses":{"201":{"description":"Engagement created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"engagement_id":{"type":"integer"},"client_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}}}}}}}}},"/api/client-engagements/{id}":{"get":{"summary":"Get client engagement by id","tags":["ClientEngagements"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Engagement","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"engagement_id":{"type":"integer"},"client_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}}}}}}}},"put":{"summary":"Update client engagement","tags":["ClientEngagements"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}}}},"responses":{"200":{"description":"Engagement updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"engagement_id":{"type":"integer"},"client_id":{"type":"integer"},"title":{"type":"string"},"start_date":{"type":"string","nullable":true},"end_date":{"type":"string","nullable":true},"status":{"type":"string"}}}}}}}}}},"delete":{"summary":"Delete client engagement","tags":["ClientEngagements"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-integrations":{"get":{"summary":"List client integrations","tags":["ClientIntegrations"],"responses":{"200":{"description":"Integrations list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"integration_id":{"type":"integer"},"client_id":{"type":"integer"},"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client integration","tags":["ClientIntegrations"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","integration_code"],"properties":{"client_id":{"type":"integer"},"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}}}},"responses":{"201":{"description":"Integration created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"integration_id":{"type":"integer"},"client_id":{"type":"integer"},"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}}}}}}}}},"/api/client-integrations/{id}":{"get":{"summary":"Get client integration by id","tags":["ClientIntegrations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Integration","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"integration_id":{"type":"integer"},"client_id":{"type":"integer"},"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}}}}}}}},"put":{"summary":"Update client integration","tags":["ClientIntegrations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}}}},"responses":{"200":{"description":"Integration updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"integration_id":{"type":"integer"},"client_id":{"type":"integer"},"integration_code":{"type":"string"},"status":{"type":"string"},"config_json":{"type":"string"}}}}}}}}}},"delete":{"summary":"Delete client integration","tags":["ClientIntegrations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-locations":{"get":{"summary":"List client locations","tags":["ClientLocations"],"responses":{"200":{"description":"Locations list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"location_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"address_line1":{"type":"string"},"address_line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client location","tags":["ClientLocations"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","label","line1"],"properties":{"client_id":{"type":"integer"},"label":{"type":"string"},"line1":{"type":"string"},"line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"}}}}}},"responses":{"201":{"description":"Location created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"location_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"address_line1":{"type":"string"},"address_line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"}}}}}}}}}}},"/api/client-locations/{id}":{"get":{"summary":"Get client location by id","tags":["ClientLocations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Location","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"location_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"address_line1":{"type":"string"},"address_line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"}}}}}}}}}},"put":{"summary":"Update client location","tags":["ClientLocations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"label":{"type":"string"},"line1":{"type":"string"},"line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"}}}}}},"responses":{"200":{"description":"Location updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"location_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"address_line1":{"type":"string"},"address_line2":{"type":"string"},"city":{"type":"string"},"state_province":{"type":"string"},"postal_code":{"type":"string"},"country":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"}}}}}}}}}},"delete":{"summary":"Delete client location","tags":["ClientLocations"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/clients/{client_id}/notes":{"get":{"summary":"List notes for a client","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"query","name":"note_type","schema":{"type":"string"}},{"in":"query","name":"include_inactive","schema":{"type":"boolean"}},{"in":"query","name":"important_only","schema":{"type":"boolean"}},{"in":"query","name":"page","schema":{"type":"integer","default":1}},{"in":"query","name":"page_size","schema":{"type":"integer","default":50}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/ClientNote"}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}},"tags":["Clients"]},"post":{"summary":"Create client note","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientNoteCreateBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientNote"}}}}}}},"tags":["Clients"]}},"/api/clients/{client_id}/notes/{note_id}":{"get":{"summary":"Get client note by id","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"note_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientNote"}}}}}}},"tags":["Clients"]},"put":{"summary":"Update client note (full replace)","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"note_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientNoteUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientNote"}}}}}}},"tags":["Clients"]},"patch":{"summary":"Update client note (partial)","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"note_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientNoteUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientNote"}}}}}}},"tags":["Clients"]},"delete":{"summary":"Delete client note (soft delete)","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"note_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Note deleted"}},"tags":["Clients"]}},"/api/client-onboarding-tasks":{"get":{"summary":"List client onboarding tasks","tags":["ClientOnboardingTasks"],"responses":{"200":{"description":"Tasks list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"task_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client onboarding task","tags":["ClientOnboardingTasks"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["client_id","name"],"properties":{"client_id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}}}},"responses":{"201":{"description":"Task created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"task_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}}}}}}}}},"/api/client-onboarding-tasks/{id}":{"get":{"summary":"Get client onboarding task by id","tags":["ClientOnboardingTasks"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Task","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"task_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}}}}}}}},"put":{"summary":"Update client onboarding task","tags":["ClientOnboardingTasks"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}}}},"responses":{"200":{"description":"Task updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"task_id":{"type":"integer"},"client_id":{"type":"integer"},"name":{"type":"string"},"description":{"type":"string"},"status":{"type":"string"},"due_utc":{"type":"string","format":"date-time"}}}}}}}}}},"delete":{"summary":"Delete client onboarding task","tags":["ClientOnboardingTasks"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-tag-map":{"get":{"summary":"List client->tag mappings","tags":["ClientTagMap"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Mappings list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"engagement_id":{"type":"integer"},"tag_id":{"type":"integer"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client->tag mapping","tags":["ClientTagMap"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["engagement_id","tag_id"],"properties":{"engagement_id":{"type":"integer"},"tag_id":{"type":"integer"}}}}}},"responses":{"201":{"description":"Mapping created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"engagement_id":{"type":"integer"},"tag_id":{"type":"integer"}}}}}}}}}},"delete":{"summary":"Delete client->tag mapping","tags":["ClientTagMap"],"parameters":[{"in":"query","name":"engagement_id","required":true,"schema":{"type":"integer"}},{"in":"query","name":"tag_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/client-tags":{"get":{"summary":"List client tags","tags":["ClientTags"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Tags list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"tag_id":{"type":"integer"},"tag_name":{"type":"string"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create client tag","tags":["ClientTags"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["tag_name"],"properties":{"tag_name":{"type":"string"}}}}}},"responses":{"201":{"description":"Tag created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"tag_id":{"type":"integer"},"tag_name":{"type":"string"}}}}}}}}}}},"/api/client-tags/{id}":{"get":{"summary":"Get client tag by id","tags":["ClientTags"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Tag","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"tag_id":{"type":"integer"},"tag_name":{"type":"string"}}}}}}}}}},"put":{"summary":"Update client tag","tags":["ClientTags"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"tag_name":{"type":"string"}}}}}},"responses":{"200":{"description":"Tag updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"tag_id":{"type":"integer"},"tag_name":{"type":"string"}}}}}}}}}},"delete":{"summary":"Delete client tag","tags":["ClientTags"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/clients":{"get":{"summary":"List clients","tags":["Clients"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Clients list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"client_id":{"type":"integer"},"name":{"type":"string"},"is_active":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"}}}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}}},"/api/clients/create-proc":{"post":{"summary":"Create client via stored procedure sp_create_client","description":"Dynamically inspects parameters of app.sp_create_client and binds matching JSON body fields (strip leading @). Any OUTPUT params returned if present along with first recordset row.","tags":["Clients"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"description":"Keys must match stored procedure parameter names without the leading @ symbol."}}}},"responses":{"200":{"description":"Client created (procedure result)","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"client":{"type":"object","additionalProperties":true},"proc_result":{"type":"object","additionalProperties":true}}}}}}}}}}},"/api/clients/{client_id}/setup":{"post":{"summary":"Orchestrate post-creation client setup (idempotent)","tags":["Clients"],"parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["playbook_code","owner_user_id"],"properties":{"client_name":{"type":"string"},"playbook_code":{"type":"string"},"owner_user_id":{"type":"integer"}}}}}},"responses":{"200":{"description":"Setup executed (idempotent)","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"client_slug":{"type":"string"},"folders":{"type":"array","items":{"type":"string"}}}}}}}}}}}},"/api/contact-social-profiles":{"get":{"summary":"List contact social profiles","tags":["ContactSocialProfiles"],"responses":{"200":{"description":"Profiles list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer"},"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"},"updated_utc":{"type":"string","format":"date-time"}}}},"meta":{"type":"object","properties":{"page":{"type":"integer"},"limit":{"type":"integer"},"total":{"type":"integer"}}}}}}}}}},"post":{"summary":"Create contact social profile","tags":["ContactSocialProfiles"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["contact_id","provider","profile_url"],"properties":{"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"}}}}}},"responses":{"201":{"description":"Profile created","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"id":{"type":"integer"},"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"},"updated_utc":{"type":"string","format":"date-time"}}}}}}}}}}},"/api/contact-social-profiles/{id}":{"get":{"summary":"Get contact social profile by id","tags":["ContactSocialProfiles"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Profile","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"id":{"type":"integer"},"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"},"updated_utc":{"type":"string","format":"date-time"}}}}}}}}}},"patch":{"summary":"Update contact social profile","tags":["ContactSocialProfiles"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"}}}}}},"responses":{"200":{"description":"Profile updated","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"id":{"type":"integer"},"contact_id":{"type":"integer"},"provider":{"type":"string"},"profile_url":{"type":"string"},"is_primary":{"type":"boolean"},"created_utc":{"type":"string","format":"date-time"},"updated_utc":{"type":"string","format":"date-time"}}}}}}}}}},"delete":{"summary":"Delete contact social profile","tags":["ContactSocialProfiles"],"parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"object","properties":{"deleted":{"type":"integer"}}}}}}}}}}},"/api/industries":{"get":{"summary":"List industries","parameters":[{"in":"query","name":"q","schema":{"type":"string"}},{"in":"query","name":"include_inactive","schema":{"type":"boolean"}},{"in":"query","name":"page","schema":{"type":"integer","default":1}},{"in":"query","name":"page_size","schema":{"type":"integer","default":50}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/Industry"}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}},"tags":["Industries"]},"post":{"summary":"Create industry","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndustryCreateBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/Industry"}}}}}}},"tags":["Industries"]}},"/api/industries/{industry_id}":{"get":{"summary":"Get industry by id","parameters":[{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/Industry"}}}}}}},"tags":["Industries"]},"put":{"summary":"Update industry (full replace)","parameters":[{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndustryUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/Industry"}}}}}}},"tags":["Industries"]},"patch":{"summary":"Update industry (partial)","parameters":[{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndustryUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/Industry"}}}}}}},"tags":["Industries"]},"delete":{"summary":"Delete industry (soft delete)","parameters":[{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Industry deleted"}},"tags":["Industries"]}},"/api/clients/{client_id}/industries":{"get":{"summary":"List industries for a client","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/ClientIndustry"}}}}}}}},"tags":["Clients"]},"post":{"summary":"Add industry to client","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientIndustryCreateBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientIndustry"}}}}}}},"tags":["Clients"]}},"/api/clients/{client_id}/industries/{industry_id}":{"put":{"summary":"Update client industry","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientIndustryUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientIndustry"}}}}}}},"tags":["Clients"]},"patch":{"summary":"Update client industry (partial)","parameters":[{"in":"path","name":"client_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"industry_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientIndustryUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/ClientIndustry"}}}}}}},"tags":["Clients"]}},"/api/task-packs":{"get":{"summary":"List task packs","parameters":[{"in":"query","name":"status_scope","schema":{"type":"string","enum":["active","prospect","any"]}},{"in":"query","name":"q","schema":{"type":"string"}},{"in":"query","name":"include_inactive","schema":{"type":"boolean"}},{"in":"query","name":"page","schema":{"type":"integer","default":1}},{"in":"query","name":"page_size","schema":{"type":"integer","default":50}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/TaskPack"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}},"tags":["TaskPacks"]},"post":{"summary":"Create task pack","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskPackCreateBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/TaskPack"}}}}}}},"tags":["TaskPacks"]}},"/api/task-packs/{pack_id}":{"get":{"summary":"Get task pack by id","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/TaskPack"}}}}}}},"tags":["TaskPacks"]},"put":{"summary":"Update task pack (full replace)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskPackUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/TaskPack"}}}}}}},"tags":["TaskPacks"]},"patch":{"summary":"Update task pack (partial)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskPackUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/TaskPack"}}}}}}},"tags":["TaskPacks"]},"delete":{"summary":"Delete task pack (soft delete)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted"}},"tags":["TaskPacks"]}},"/api/task-packs/{pack_id}/tasks":{"get":{"summary":"List pack tasks","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/PackTask"}}}}}}}},"tags":["TaskPacks"]},"post":{"summary":"Create pack task","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackTaskCreateBody"}}}},"responses":{"201":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/PackTask"}}}}}}},"tags":["TaskPacks"]}},"/api/task-packs/{pack_id}/tasks/{pack_task_id}":{"get":{"summary":"Get pack task by id","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"pack_task_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/PackTask"}}}}}}},"tags":["TaskPacks"]},"put":{"summary":"Update pack task (full replace)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"pack_task_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackTaskUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/PackTask"}}}}}}},"tags":["TaskPacks"]},"patch":{"summary":"Update pack task (partial)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"pack_task_id","required":true,"schema":{"type":"integer"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PackTaskUpdateBody"}}}},"responses":{"200":{"content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/PackTask"}}}}}}},"tags":["TaskPacks"]},"delete":{"summary":"Delete pack task (soft delete)","parameters":[{"in":"path","name":"pack_id","required":true,"schema":{"type":"integer"}},{"in":"path","name":"pack_task_id","required":true,"schema":{"type":"integer"}}],"responses":{"200":{"description":"Deleted"}},"tags":["TaskPacks"]}},"/api/dashboard-stats":{"get":{"summary":"Get dashboard aggregate stats","tags":["Views"],"responses":{"200":{"description":"Stats","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"$ref":"#/components/schemas/DashboardStats"}}}}}}}}},"/api/audit-recent-touch":{"get":{"summary":"List recent audit activity","tags":["Views"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Recent audits","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/RecentAudit"}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}}},"/api/clients-overview":{"get":{"summary":"List clients overview (aggregated stats & metadata)","tags":["Views"],"parameters":[{"in":"query","name":"page","schema":{"type":"integer","minimum":1}},{"in":"query","name":"limit","schema":{"type":"integer","minimum":1}}],"responses":{"200":{"description":"Clients overview list","content":{"application/json":{"schema":{"type":"object","properties":{"status":{"type":"string","enum":["ok"]},"data":{"type":"array","items":{"$ref":"#/components/schemas/ClientsOverviewItem"}},"meta":{"$ref":"#/components/schemas/PageMeta"}}}}}}}}},"/healthz":{"get":{"summary":"Liveness","responses":{"200":{"description":"OK"}},"tags":["Misc"]}},"/api/health":{"get":{"summary":"API health","responses":{"200":{"description":"OK"}},"tags":["Misc"]}}}}